#!/bin/sh
# Configure XFCE desktop and branding

# Set hostname
echo "chaos" > /etc/hostname

# Create a custom ChaOS motd
cat > /etc/motd << EOF
  ██████╗██╗  ██╗ █████╗  ██████╗ ███████╗
 ██╔════╝██║  ██║██╔══██╗██╔═══██╗██╔════╝
 ██║     ███████║███████║██║   ██║███████╗
 ██║     ██╔══██║██╔══██║██║   ██║╚════██║
 ╚██████╗██║  ██║██║  ██║╚██████╔╝███████║
  ╚═════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝
 
  Controlled Havoc for Red Teamers
  Welcome to ChaOS - Use responsibly!

EOF

# Set default lightdm background
if [ -d /etc/lightdm ]; then
  mkdir -p /etc/lightdm/
  cat > /etc/lightdm/lightdm-gtk-greeter.conf << EOF
[greeter]
background=/usr/share/backgrounds/background.svg
theme-name=ChaOS
icon-theme-name=ChaOS
font-name=Sans 11
EOF
fi

# Copy the wallpaper to backgrounds directory
mkdir -p /usr/share/backgrounds/
cp /etc/skel/Pictures/background.svg /usr/share/backgrounds/
cp /etc/skel/Pictures/chaos.png /usr/share/backgrounds/

exit 0
